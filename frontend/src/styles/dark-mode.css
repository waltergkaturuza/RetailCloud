/* Dark Mode Styles */
body.dark-mode {
  background: #1a1a1a;
  color: #e0e0e0;
  --text-primary: #e0e0e0;
  --text-secondary: #b0b0b0;
  --text-muted: #8a8a8a;
  --bg-primary: #2a2a2a;
  --bg-secondary: #1a1a1a;
  --border-color: #3a3a3a;
}

/* Preserve status/accent colors - these should not be overridden */
body.dark-mode [style*="color: #27ae60"],
body.dark-mode [style*="color:#27ae60"],
body.dark-mode [style*="color: #2ecc71"],
body.dark-mode [style*="color:#2ecc71"],
body.dark-mode [style*="color: #3498db"],
body.dark-mode [style*="color:#3498db"],
body.dark-mode [style*="color: #e74c3c"],
body.dark-mode [style*="color:#e74c3c"],
body.dark-mode [style*="color: #f39c12"],
body.dark-mode [style*="color:#f39c12"],
body.dark-mode [style*="color: white"],
body.dark-mode [style*="color:white"],
body.dark-mode [style*="color: #fff"],
body.dark-mode [style*="color:#fff"],
body.dark-mode [style*="color: rgb(39, 174, 96)"],
body.dark-mode [style*="color:rgb(39, 174, 96)"],
body.dark-mode [style*="color: rgb(52, 152, 219)"],
body.dark-mode [style*="color:rgb(52, 152, 219)"] {
  color: inherit !important;
}

/* Force light text for headings */
body.dark-mode h1,
body.dark-mode h2,
body.dark-mode h3,
body.dark-mode h4,
body.dark-mode h5,
body.dark-mode h6 {
  color: var(--text-primary) !important;
}

/* Override dark text colors used in inline styles */
body.dark-mode [style*="color: #2c3e50"],
body.dark-mode [style*="color:#2c3e50"],
body.dark-mode [style*="color: #333"],
body.dark-mode [style*="color:#333"],
body.dark-mode [style*="color: #333333"],
body.dark-mode [style*="color:#333333"],
body.dark-mode [style*="color: #7f8c8d"],
body.dark-mode [style*="color:#7f8c8d"],
body.dark-mode [style*="color: #6c757d"],
body.dark-mode [style*="color:#6c757d"],
body.dark-mode [style*="color: #666"],
body.dark-mode [style*="color:#666"],
body.dark-mode [style*="color: #666666"],
body.dark-mode [style*="color:#666666"],
body.dark-mode [style*="color: #495057"],
body.dark-mode [style*="color:#495057"],
body.dark-mode [style*="color: rgb(44, 62, 80)"],
body.dark-mode [style*="color:rgb(44, 62, 80)"],
body.dark-mode [style*="color: rgb(127, 140, 141)"],
body.dark-mode [style*="color:rgb(127, 140, 141)"] {
  color: var(--text-primary) !important;
}

/* Override dark text in secondary/gray text */
body.dark-mode [style*="color: #bdc3c7"],
body.dark-mode [style*="color:#bdc3c7"],
body.dark-mode [style*="color: #95a5a6"],
body.dark-mode [style*="color:#95a5a6"],
body.dark-mode [style*="color: #adb5bd"],
body.dark-mode [style*="color:#adb5bd"] {
  color: var(--text-secondary) !important;
}

/* Override light backgrounds to dark */
body.dark-mode [style*="background: #f5f5f5"],
body.dark-mode [style*="background:#f5f5f5"],
body.dark-mode [style*="background: #f8f9fa"],
body.dark-mode [style*="background:#f8f9fa"],
body.dark-mode [style*="background: #ffffff"],
body.dark-mode [style*="background:#ffffff"],
body.dark-mode [style*="background: white"],
body.dark-mode [style*="background:white"] {
  background: var(--bg-primary) !important;
}

/* Card dark mode */
body.dark-mode .card {
  background: var(--bg-primary);
  color: var(--text-primary);
  border: 1px solid var(--border-color);
}

/* Force light text in cards - but preserve status colors */
body.dark-mode .card *:not([style*="color: #27ae60"]):not([style*="color:#27ae60"]):not([style*="color: #2ecc71"]):not([style*="color:#2ecc71"]):not([style*="color: #3498db"]):not([style*="color:#3498db"]):not([style*="color: #e74c3c"]):not([style*="color:#e74c3c"]):not([style*="color: #f39c12"]):not([style*="color:#f39c12"]):not([style*="color: white"]):not([style*="color:white"]):not([style*="color: #fff"]):not([style*="color:#fff"]) {
  color: var(--text-primary);
}

body.dark-mode .card h1,
body.dark-mode .card h2,
body.dark-mode .card h3,
body.dark-mode .card h4,
body.dark-mode .card h5,
body.dark-mode .card h6,
body.dark-mode .card p,
body.dark-mode .card span,
body.dark-mode .card div {
  color: var(--text-primary) !important;
}

/* Input dark mode */
body.dark-mode .input {
  background: var(--bg-primary);
  border-color: var(--border-color);
  color: var(--text-primary);
}

body.dark-mode .input:focus {
  border-color: #3498db;
  background: #2f2f2f;
}

/* Table dark mode */
body.dark-mode .table {
  background: var(--bg-primary);
  color: var(--text-primary);
}

body.dark-mode .table thead {
  background: #1f1f1f;
}

body.dark-mode .table th {
  color: var(--text-secondary) !important;
}

body.dark-mode .table td {
  border-color: var(--border-color);
  color: var(--text-primary) !important;
}

body.dark-mode .table tbody tr:hover {
  background: #333333;
}

/* Badge dark mode */
body.dark-mode .badge {
  opacity: 0.9;
}

/* Modal dark mode */
body.dark-mode .modal-overlay {
  background: rgba(0, 0, 0, 0.8);
}

body.dark-mode .modal-content {
  background: var(--bg-primary);
  color: var(--text-primary);
}

body.dark-mode .modal-content * {
  color: var(--text-primary);
}

/* Sidebar dark mode */
body.dark-mode aside {
  background: var(--bg-secondary);
  border-right: 1px solid var(--border-color);
}

body.dark-mode aside a {
  color: var(--text-secondary);
}

body.dark-mode aside a:hover,
body.dark-mode aside a[aria-current="page"] {
  background: var(--bg-primary);
  color: #fff;
}

/* Main content area */
body.dark-mode main {
  background: var(--bg-secondary);
  color: var(--text-primary);
}

/* Force light text for common text elements */
body.dark-mode p,
body.dark-mode span,
body.dark-mode div,
body.dark-mode td,
body.dark-mode th,
body.dark-mode label {
  color: var(--text-primary);
}

/* Force light text in specific font weight patterns (often numbers/statistics) */
body.dark-mode [style*="font-weight: 700"],
body.dark-mode [style*="font-weight:700"],
body.dark-mode [style*="font-weight: 600"],
body.dark-mode [style*="font-weight:600"] {
  color: var(--text-primary) !important;
}

/* Specific overrides for common UI patterns */
body.dark-mode [style*="background: #f0f4ff"],
body.dark-mode [style*="background:#f0f4ff"] {
  background: #2a2a3a !important;
}

body.dark-mode [style*="background: #f8f9ff"],
body.dark-mode [style*="background:#f8f9ff"] {
  background: #2a2a3a !important;
}

/* Links */
body.dark-mode a:not([style*="color"]) {
  color: #4a9eff;
}

body.dark-mode a:hover:not([style*="color"]) {
  color: #6bb3ff;
}

/* Buttons should keep their colors but text should be visible */
body.dark-mode button[style*="background"] {
  color: white !important;
}

/* Override text in select elements */
body.dark-mode select,
body.dark-mode select option {
  background: var(--bg-primary) !important;
  color: var(--text-primary) !important;
  border-color: var(--border-color) !important;
}

/* Scrollbar dark mode */
body.dark-mode ::-webkit-scrollbar-track {
  background: var(--bg-secondary);
}

body.dark-mode ::-webkit-scrollbar-thumb {
  background: #444;
}

body.dark-mode ::-webkit-scrollbar-thumb:hover {
  background: #555;
}
